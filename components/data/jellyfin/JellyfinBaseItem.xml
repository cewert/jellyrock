<?xml version="1.0" encoding="utf-8"?>
<!--
  LOADING STATE PATTERN: SENTINEL VALUES

  This component uses SENTINEL VALUES instead of isLoaded flag.

  RULE: If item.id = "", item is NOT loaded/valid
  RULE: If item.id <> "", item IS loaded (all fields valid)

  Empty values in other fields represent VALID loaded states:
  - name="" → Item has no name (valid)
  - overview="" → No overview available (valid)
  - runTimeTicks=0 → Unknown duration (valid)

  Parent components handle loading UI states (spinners, errors).
  Transformers guarantee atomic population (all fields set together).
-->
<component name="JellyfinBaseItem" extends="ContentNode">
  <interface>
    <!-- Core Identity -->
    <field id="id" type="string" value="" />
    <field id="type" type="string" value="" />
    <field id="name" type="string" value="" />
    <field id="originalTitle" type="string" value="" />
    <field id="sortName" type="string" value="" />

    <!-- Parent/Container Info -->
    <field id="serverId" type="string" value="" />
    <field id="parentId" type="string" value="" />
    <field id="channelId" type="string" value="" />
    <field id="collectionType" type="string" value="" />

    <!-- Media Metadata -->
    <field id="overview" type="string" value="" />
    <field id="tagline" type="string" value="" />
    <field id="runTimeTicks" type="longinteger" value="0" />
    <field id="premiereDate" type="string" value="" />
    <field id="endDate" type="string" value="" />
    <field id="productionYear" type="integer" value="0" />

    <!-- Ratings & Genres -->
    <field id="officialRating" type="string" value="" />
    <field id="communityRating" type="float" value="0.0" />
    <field id="criticRating" type="float" value="0.0" />
    <field id="genres" type="stringarray" />
    <field id="studios" type="stringarray" />
    <field id="tags" type="stringarray" />

    <!-- User Data (flattened for quick access) -->
    <field id="playbackPositionTicks" type="longinteger" value="0" />
    <field id="playedPercentage" type="float" value="0.0" />
    <field id="isWatched" type="boolean" value="false" />
    <field id="isFavorite" type="boolean" value="false" />
    <field id="isResumable" type="boolean" value="false" />
    <field id="playCount" type="integer" value="0" />
    <field id="lastPlayedDate" type="string" value="" />

    <!-- Series/Episode Specific -->
    <field id="seriesId" type="string" value="" />
    <field id="seriesName" type="string" value="" />
    <field id="seasonId" type="string" value="" />
    <field id="seasonName" type="string" value="" />
    <field id="episodeTitle" type="string" value="" />
    <field id="indexNumber" type="integer" value="0" />
    <field id="parentIndexNumber" type="integer" value="0" />
    <field id="unplayedItemCount" type="integer" value="0" />

    <!-- Live TV Specific -->
    <field id="channelName" type="string" value="" />
    <field id="isLive" type="boolean" value="false" />
    <field id="isNews" type="boolean" value="false" />
    <field id="isSports" type="boolean" value="false" />
    <field id="isKids" type="boolean" value="false" />
    <field id="isPremiere" type="boolean" value="false" />

    <!-- Image Tags (for on-demand URL generation) -->
    <field id="primaryImageTag" type="string" value="" />
    <field id="backdropImageTags" type="stringarray" />
    <field id="thumbImageTag" type="string" value="" />
    <field id="logoImageTag" type="string" value="" />

    <!-- Parent Image Tags (for fallback images) -->
    <field id="parentPrimaryImageTag" type="string" value="" />
    <field id="parentPrimaryImageItemId" type="string" value="" />
    <field id="parentThumbImageTag" type="string" value="" />
    <field id="parentThumbItemId" type="string" value="" />
    <field id="parentBackdropImageTags" type="stringarray" />
    <field id="parentBackdropItemId" type="string" value="" />
    <field id="seriesPrimaryImageTag" type="string" value="" />

    <!-- Media Sources & Streams (for playback) -->
    <field id="mediaSourcesData" type="assocarray" />

    <!-- Version & Debug -->
    <field id="serverVersion" type="string" value="" />
    <field id="rawApiData" type="assocarray" />
    <field id="transformedAt" type="longinteger" value="0" />
  </interface>
</component>
