<?xml version="1.0" encoding="utf-8"?>
<!--
  Jellyfin User Policy

  This content node represents the Policy object from the Jellyfin server API.
  Policy data is SERVER-AUTHORITATIVE and session-specific - it should NEVER
  be loaded from or synced to the registry.

  These permissions and restrictions are controlled by the Jellyfin server administrator
  and may change between sessions. The server is the single source of truth for this data.

  LOADING STATE PATTERN: SET ONCE AT LOGIN
  - Populated once during user.Login() from server API response
  - Never modified after initial load
  - Never synced to registry
-->
<component name="JellyfinUserPolicy" extends="ContentNode">
  <interface>
    <!-- User Status -->
    <field id="isAdministrator" type="boolean" />
    <field id="isDisabled" type="boolean" />
    <field id="isHidden" type="boolean" />

    <!-- Authentication Settings -->
    <field id="authenticationProviderId" type="string" />
    <field id="passwordResetProviderId" type="string" />
    <field id="invalidLoginAttemptCount" type="integer" />
    <field id="loginAttemptsBeforeLockout" type="integer" />

    <!-- Media Playback Permissions -->
    <field id="enableMediaPlayback" type="boolean" />
    <field id="enableAudioPlaybackTranscoding" type="boolean" />
    <field id="enableVideoPlaybackTranscoding" type="boolean" />
    <field id="enablePlaybackRemuxing" type="boolean" />
    <field id="forceRemoteSourceTranscoding" type="boolean" />

    <!-- Content Access Permissions -->
    <field id="enableAllFolders" type="boolean" />
    <field id="enabledFolders" type="array" />
    <field id="enableContentDownloading" type="boolean" />
    <field id="enableContentDeletion" type="boolean" />
    <field id="enableContentDeletionFromFolders" type="array" />

    <!-- Live TV Permissions -->
    <field id="enableLiveTvAccess" type="boolean" />
    <field id="enableLiveTvManagement" type="boolean" />

    <!-- Channel Permissions -->
    <field id="enableAllChannels" type="boolean" />
    <field id="enabledChannels" type="array" />
    <field id="blockedChannels" type="array" />

    <!-- Device Permissions -->
    <field id="enableAllDevices" type="boolean" />
    <field id="enabledDevices" type="array" />
    <field id="maxActiveSessions" type="integer" />

    <!-- Remote Access Permissions -->
    <field id="enableRemoteAccess" type="boolean" />
    <field id="enableRemoteControlOfOtherUsers" type="boolean" />
    <field id="enableSharedDeviceControl" type="boolean" />
    <field id="remoteClientBitrateLimit" type="integer" />

    <!-- Content Management Permissions -->
    <field id="enableCollectionManagement" type="boolean" />
    <field id="enableSubtitleManagement" type="boolean" />
    <field id="enableLyricManagement" type="boolean" />

    <!-- Sharing and Sync Permissions -->
    <field id="enablePublicSharing" type="boolean" />
    <field id="enableSyncTranscoding" type="boolean" />
    <field id="enableMediaConversion" type="boolean" />

    <!-- User Preferences -->
    <field id="enableUserPreferenceAccess" type="boolean" />

    <!-- Content Filtering -->
    <field id="blockedMediaFolders" type="array" />
    <field id="blockedTags" type="array" />
    <field id="allowedTags" type="array" />
    <field id="blockUnratedItems" type="array" />

    <!-- Access Schedules -->
    <field id="accessSchedules" type="array" />

    <!-- Sync Play -->
    <field id="syncPlayAccess" type="string" />

    <!-- DEBUG ONLY: Raw policy data for debugging - only populated when bs_const=debug=true -->
    <field id="rawPolicyData" type="assocarray" />
  </interface>
</component>