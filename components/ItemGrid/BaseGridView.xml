<?xml version="1.0" encoding="utf-8"?>
<!--
  BaseGridView: Unified library grid view component

  Uses presenter pattern for media-type-specific behavior.
  Combines common functionality from ItemGrid, MovieLibraryView, and MusicLibraryView.

  Presenter is set via setPresenter() function to determine:
  - Backdrop mode (fullscreen, presentation, none)
  - Grid configuration (translation, rows, columns)
  - Options (view, sort, filter)
  - Metadata display
-->
<component name="BaseGridView" extends="JRScreen">
  <children>
    <VoiceTextEditBox id="VoiceBox" visible="true" width="40" translation="[52, 120]" />

    <!-- Presentation backdrop (right half of screen) - used by movie/music/tvshow presenters -->
    <PresentationBackdrop id="presentationBackdrop" visible="false" />

    <!-- Presentation info group - populated by presenter with media-specific metadata nodes -->
    <Group id="presentationInfo" visible="false" translation="[120, 40]">
      <LayoutGroup id="movieInfo" layoutDirection="vert" translation="[0, 120]" itemSpacings="[9]">
        <LabelPrimaryLarge id="selectedMovieName" width="900" horizAlign="left" />
        <!-- Movie metadata groups - dynamically populated by MoviePresenter -->
        <LayoutGroup id="movieInfoGroup" layoutDirection="horiz" itemSpacings="[9]" />
        <LayoutGroup id="movieGenres" layoutDirection="horiz" itemSpacings="[9]" />
      </LayoutGroup>
      <!-- Movie description group - dynamically populated by MoviePresenter with tagline and overview -->
      <LayoutGroup id="movieDescription" layoutDirection="vert" vertAlignment="bottom" translation="[0, 620]" itemSpacings="[36]" />

      <Poster id="movieLogo" visible="false" loadDisplayMode="scaleToFit" width="384" height="196" translation="[1270, 400]" />
      <!-- Music info nodes -->
      <LabelPrimaryLarge id="selectedArtistName" visible="false" wrap="true" width="850" height="196" horizAlign="left" vertAlign="center" />
      <Poster id="artistLogo" visible="false" loadDisplayMode="scaleToFit" width="384" height="196" />
      <LabelPrimaryMedium id="selectedArtistSongCount" visible="false" translation="[0, 230]" wrap="true" width="850" height="30" horizAlign="left" />
      <LabelPrimaryMedium id="selectedArtistAlbumCount" visible="false" translation="[0, 270]" wrap="true" width="850" height="30" horizAlign="left" />
      <LabelPrimaryMedium id="selectedArtistGenres" visible="false" translation="[0, 310]" wrap="true" width="850" height="30" horizAlign="left" />
    </Group>

    <!-- Main item grid - defaults match GridItem (264x396), presenters override as needed -->
    <JRMarkupGrid
      id="itemGrid"
      translation="[96, 102]"
      itemComponentName="GridItem"
      numColumns="6"
      numRows="3"
      vertFocusAnimationStyle="fixed"
      itemSize="[264, 396]"
      itemSpacing="[28, 72]" />

    <!-- Genre list (alternative display for genres view) -->
    <JRRowList
      id="genreList"
      opacity="0"
      translation="[120, 120]"
      itemComponentName="GridItemSmall"
      numColumns="1"
      numRows="3"
      vertFocusAnimationStyle="fixed"
      itemSize="[1702, 360]"
      rowItemSize="[[230, 320]]"
      rowItemSpacing="[[20, 0]]"
      rowLabelOffset="[[0, 0]]"
      itemSpacing="[0, 60]" />

    <!-- Empty state message -->
    <LabelPrimaryLarge id="emptyText" bold="true" width="1910" horizAlign="center" vertAlign="center" height="64" translation="[0, 540]" visible="false" />

    <!-- Options dialog -->
    <ItemGridOptions id="options" visible="false" />

    <!-- Alphabetical navigation -->
    <Alpha id="alpha" />
  </children>

  <interface>
    <field id="presenterType" type="string" value="" onChange="onPresenterTypeChanged" />
    <field id="HomeLibraryItem" type="string" />
    <field id="parentItem" type="node" onChange="loadInitialItems" />
    <field id="selectedItem" type="node" alwaysNotify="true" />
    <field id="quickPlayNode" type="node" alwaysNotify="true" />
    <field id="imageDisplayMode" type="string" value="scaleToZoom" />
    <field id="alphaSelected" type="string" alias="alpha.letterSelected" alwaysNotify="true" onChange="alphaSelectedChanged" />
    <field id="alphaActive" type="boolean" value="false" onChange="alphaActiveChanged" />
    <field id="showItemTitles" type="string" value="showonhover" />
    <field id="jumpToItem" type="integer" value="" />
    <field id="gridTitles" type="string" />
    <field id="currentView" type="string" value="" />
  </interface>
</component>